{
  "hash": "f71545e0459a759fd471ba2081a9d32b",
  "result": {
    "markdown": "---\ntitle: \"Lab 5 - Probability and Simpson's Paradox\"\ncategories: \"Lab\"\nexecute:\n  eval: true\n---\n\n\n::: callout-important\nThis lab is due October 24th at 11:59pm.\n:::\n\n# Learning Goals\n\n-- Calculate single event, conditional, and \"and\" probabilities\n\n-- Interpret probabilities in the context of the problem \n\n-- Display a fundemental understanding of Simpson's Paradox \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.3.6     ✔ purrr   0.3.4\n✔ tibble  3.1.8     ✔ dplyr   1.0.9\n✔ tidyr   1.2.0     ✔ stringr 1.4.1\n✔ readr   2.1.2     ✔ forcats 0.5.2\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n:::\n\n\n\n## Exercise 1 - Probability and You \n\nWe use probabilities all the time when making decisions. Below, in 3-4 sentences, provide at least *two* real world examples of when you use probability to make decisions in your every day life. Think critically. Be creative. \n\n(a)\n\n## Exercise 2 - Risk of coronary heart disease\n\nThis data set is from an ongoing cardiovascular study on residents of the town of Framingham, Massachusetts. We want to examine the relationship between various health characteristics and the risk of having heart disease. Use the following data set to answer the questions below. \n\nShow your work by writing your answer as a fraction to potentially receive partial credit. For example, if your numerator is the combination of two values, show the addition to obtain these values. Example: (1+4) / 10 = 0.4.\n\n![](images/lab-5/diseasevseducation.png)\n\n(a) What is the probability of a random individual being high risk for cardiovascular disease? \n\n(b) What is the probability of a random individual having some high school or GED education and not being high risk for cardiovascular disease? \n\n(c) What is the probability that a random individual who is already high risk for cardiovascular disease has a college education? \n\n(d) What is the probability that a random individual is at high risk for cardiovascular disease or has some college or vocational education? \n\n::: render-commit-push\nIf you haven't yet done so, now is a good time to render, commit, and push. Make sure that you commit and push all changed documents and your Git pane is completely empty before proceeding.\n\n<br>\n:::\n\n## Exercise 3 - Computer store \n\nIn a computer store, 30% of the computers in stock are laptops and 70% are desktops.  Five percent of the laptops are on sale, while 10% of the desktops are on sale. \n\n(a) Fill in the code below to create a hypothetical two-way table to represent this situation. Assume the total number of computers is 1000. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- tibble( \n  Type = c(),\n  Sale = c(),\n  values = ()\n  )\n\ndata |>\n  pivot_wider( \n    names_from = ...,\n    values_from = ....)\n```\n:::\n\n\n\n(b) Calculate the probability of that a randomly selected computer will be a desktop, given that the computer is on sale.  \n\n(c) In your own words, explain what this probability means. \n\n- *Problems adapted from Mind on Statistics, 5th Ed. By Utts and Heckard*\n\n::: render-commit-push\nIf you haven't yet done so, now is a good time to render, commit, and push. Make sure that you commit and push all changed documents and your Git pane is completely empty before proceeding.\n\n<br>\n:::\n\n## Exercise 4 - Bike rentals\n\nBike sharing systems are new generation of traditional bike rentals where whole process from membership, rental and return back has become automatic. You are tasked to investigate the relationship between the temperature outside and the number of bikes rented in the Washington DC area between the years 2011 and 2022. You will be investigating data for the months June, July, September, and November. \n\n(a) Read in the data. Then, create a scatter plot that investigates the relationship between the number of bikes rented and the temperature outside. Include a straight line of best fit to help discuss the discovered relationship. Summarize your findings in 2-3 sentences.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbike <- read_csv(\"data/bike.csv\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nbike |>\n  ggplot(aes(y = cnt, x = temp)) +\n  geom_point() + \n  geom_smooth(method = \"lm\" , se = FALSE) + \n  labs(\n    title = \"Relationsip Between Bikes Rented and Temperatue\" , \n    subtitle = \"Washington DC 2011-2012\", \n    x = \"Temperature\" , \n    y = \"Bikes Rented\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](lab-5_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n(b) Another researcher suggests to look at the relationship between bikes rented and temperature by each of the four months of interest. Recreate your plot in part a, and color the points by month. Include a straight line for each of the four months to help discuss each month's relationship between bikes rented and temperature. In 3-4 sentences, summarize your findings. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nbike |>\n  mutate(mnth = as.factor(mnth)) |>\n  ggplot(aes(y = cnt, x = temp, color = mnth)) +\n  geom_point() + \n  geom_smooth(method = \"lm\" , se = FALSE) + \n    labs(\n    title = \"Relationsip Between Bikes Rented and Temperatue By Month\" , \n    subtitle = \"Washington DC 2011-2012\", \n    x = \"Temperature\" , \n    y = \"Bikes Rented\",\n    color = \"Month\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](lab-5_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nPlease watch the following video on Simpson's Paradox [here](https://www.youtube.com/watch?v=ebEkn-BiW5k). After you do, please answer the following questions. \n\n(c) In your own words, summarize Simpson's Paradox in 2-3 sentences. \n\n\n(d) Compare and contrast your findings from part (a) and part (b). What's different? \n\n\n(e) Think critically about your answer to part d. What other context from this study could be creating this paradox? That is, identify a potential confounding variable in this study. Be sure to justify how your example could be a potential confounding variable by relating it back to both bike rentals and temperature. \n\n- *Data subset from Progress in Artificial Intelligence, 2013*.\n# Submission\n\nOnce you are finished with the lab, you will your final PDF document to Gradescope.\n\n::: callout-warning\nBefore you wrap up the assignment, make sure all documents are updated on your GitHub repo. We will be checking these to make sure you have been practicing how to render and push changes.\n\nYou must turn in a PDF file to the Gradescope page by the submission deadline to be considered \"on time\".\n\nMake sure your data are tidy! That is, your code should not be running off the pages and spaced properly. See: https://style.tidyverse.org/ggplot2.html\n:::\n\nTo submit your assignment:\n\n-   Go to <http://www.gradescope.com> and click *Log in* in the top right corner.\n-   Click *School Credentials* $\\rightarrow$ *Duke NetID* and log in using your NetID credentials.\n-   Click on your *STA 199* course.\n-   Click on the assignment, and you'll be prompted to submit it.\n-   Mark all the pages associated with exercise. All the pages of your lab should be associated with at least one question (i.e., should be \"checked\"). *If you do not do this, you will be subject to lose points on the assignment.*\n-   Select the first page of your .pdf submission to be associated with the *\"Workflow & formatting\"* question.\n\n# Grading\n\n| Component             | Points |\n|:----------------------|:-------|\n| Ex 1                  | 4      |\n| Ex 2                  | 12      |\n| Ex 3                  | 15     |\n| Ex 4                  | 14      |\n| Workflow & formatting | 5      |\n| **Total**             | **50** |\n\n::: callout-note\nThe \"Workflow & formatting\" component assesses the reproducible workflow. This includes having at least 3 informative render messages, labeling the code chunks, and having readable code that does not exceed 80 characters, i.e., we can read all your code in the rendered PDF.\n:::\n\n\n",
    "supporting": [
      "lab-5_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}